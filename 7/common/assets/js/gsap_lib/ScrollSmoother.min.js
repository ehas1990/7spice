/*!
 * ScrollSmoother 3.11.5
 * https://greensock.com
 * 
 * @license Copyright 2023, GreenSock. All rights reserved.
 * This plugin is a membership benefit of Club GreenSock and is only authorized for use in sites/apps/products developed by individuals/companies with an active Club GreenSock membership. See https://greensock.com/club
 * @author: Jack Doyle, jack@greensock.com
*/ !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(){return"undefined"!=typeof window}function n(){return a||r()&&(a=window.gsap)&&a.registerPlugin&&a}var o,i,s,a,l,c,u,f,d,h,g,p,$,v,m,y,_,b,w=(S.register=function e(t){return l||(a=t||n(),r()&&window.document&&(c=window,f=(u=document).documentElement,d=u.body),a&&(h=a.utils.toArray,g=a.utils.clamp,v=a.parseEase("expo"),_=a.core.context||function(){},b=a.delayedCall(.2,function(){return p.isRefreshing||$&&$.refresh()}).pause(),p=a.core.globals().ScrollTrigger,a.core.globals("ScrollSmoother",S),d&&p&&(m=p.core._getVelocityProp,y=p.core._inputObserver,S.refresh=p.refresh,l=1))),l},o=S,i=[{key:"progress",get:function e(){return this.scrollTrigger?this.scrollTrigger.animation._time/100:0}}],t(o.prototype,i),s&&t(o,s),S);function S(e){var t=this;function r(){return ea.update(-eo)}function n(){return A.style.overflow="visible"}function o(e){e.update();var t=e.getTween();t&&(t.pause(),t._time=t._dur,t._tTime=t._tDur),F=!1,e.animation.progress(e.progress,!0)}function i(e,t){(e!==eo&&!M||t)&&(X&&(e=Math.round(e)),er&&(A.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+e+", 0, 1)",A._gsap.y=e+"px"),ei=e-eo,eo=e,p.isUpdating||S.isRefreshing||p.update())}function s(e){return arguments.length?(e<0&&(e=0),el.y=-e,F=!0,M?eo=-e:i(-e),p.isRefreshing?H.update():et(e/en),this):-eo}function w(e){z.scrollTop=0,e.target.contains&&e.target.contains(z)||J&&!1===J(t,e)||(p.isInViewport(e.target)||e.target===Y||t.scrollTo(e.target,!1,"center center"),Y=e.target)}function T(e){var t,r,n,o;L.forEach(function(i){t=i.pins,o=i.markers,e.forEach(function(e){i.trigger&&e.trigger&&i!==e&&(e.trigger===i.trigger||e.pinnedContainer===i.trigger||i.trigger.contains(e.trigger))&&(n=((r=e.start)-i.start-i.offset)/i.ratio-(r-i.start),t.forEach(function(e){return n-=e.distance/i.ratio-e.distance}),e.setPositions(r+n,e.end+n),e.markerStart&&o.push(a.quickSetter([e.markerStart,e.markerEnd],"y","px")),e.pin&&0<e.end&&(n=e.end-e.start,t.push({start:e.start,end:e.end,distance:n,trig:e}),i.setPositions(i.start,i.end+n),i.vars.onRefresh(i)))})})}function x(){n(),requestAnimationFrame(n),L&&(L.forEach(function(e){var t=e.start,r=e.auto?Math.min(p.maxScroll(e.scroller),e.end):t+(e.end-t)/e.ratio,n=(r-e.end)/2;t-=n,r-=n,e.offset=n||1e-4,e.pins.length=0,e.setPositions(Math.min(t,r),Math.max(t,r)),e.vars.onRefresh(e)}),T(p.sort())),ea.reset()}function E(){return p.addEventListener("refresh",x)}function P(){return L&&L.forEach(function(e){return e.vars.onRefresh(e)})}function k(){return L&&L.forEach(function(e){return e.vars.onRefreshInit(e)}),P}function R(e,t,r,n){return function(){var o="function"==typeof t?t(r,n):t;return o||0===o||(o=n.getAttribute("data-"+ee+e)||("speed"===e?1:0)),n.setAttribute("data-"+ee+e,o),"auto"===o?o:parseFloat(o)}}function C(e,t,r,n,o){function i(){t=_(),r=b(),u=parseFloat(t)||1,m=(h="auto"===t)?0:.5,$&&$.kill(),$=r&&a.to(e,{ease:v,overwrite:!1,y:"+=0",duration:r}),d&&(d.ratio=u,d.autoSpeed=h)}function s(){S.y=w+"px",S.renderTransform(1),i()}function l(t){if(h){s();var r,n,o,i,a,l,d,p,v,m,_,b=(r=e,n=g(0,1,-t.start/(t.end-t.start)),a=r.parentNode||f,l=r.getBoundingClientRect(),p=(d=a.getBoundingClientRect()).top-l.top,_=-(m=(Math.abs(p)>Math.abs(v=d.bottom-l.bottom)?p:v)/(1-n))*n,0<m&&(i=.5==(o=d.height/(c.innerHeight+d.height))?2*d.height:2*Math.min(d.height,-m*o/(2*o-1))*(n||1),_+=n?-i*n:-i/2,m+=i),{change:m,offset:_});E=b.change,y=b.offset}else E=(t.end-t.start)*(1-u),y=0;T.forEach(function(e){return E-=e.distance*(1-u)}),t.vars.onUpdate(t),$&&$.progress(1)}o=("function"==typeof o?o(n,e):o)||0;var u,d,h,$,m,y,_=R("speed",t,n,e),b=R("lag",r,n,e),w=a.getProperty(e,"y"),S=e._gsap,T=[],x=[],E=0;return i(),(1!==u||h||$)&&(l(d=p.create({trigger:h?e.parentNode:e,start:"top bottom+="+o,end:"bottom top-="+o,scroller:z,scrub:!0,refreshPriority:-999,onRefreshInit:s,onRefresh:l,onKill:function e(t){var r=L.indexOf(t);0<=r&&L.splice(r,1),s()},onUpdate:function e(t){var r,n,o,i,s=w+E*(t.progress-m),l=T.length,c=0;if(t.offset){if(l){for(o=-eo,i=t.end;l--;){if((n=T[l]).trig.isActive||o>=n.start&&o<=n.end)return void($&&(n.trig.progress+=n.trig.direction<0?.001:-.001,n.trig.update(0,0,1),$.resetTo("y",parseFloat(S.y),-ei,!0),es&&$.progress(1)));o>n.end&&(c+=n.distance),i-=n.distance}s=w+c+E*((a.utils.clamp(t.start,t.end,o)-t.start-c)/(i-t.start)-m)}s=Math.round(1e5*(r=s+y))/1e5||0,x.length&&!h&&x.forEach(function(e){return e(s-c)}),$?($.resetTo("y",s,-ei,!0),es&&$.progress(1)):(S.y=s+"px",S.renderTransform(1))}}})),a.core.getCache(d.trigger).stRevert=k,d.startY=w,d.pins=T,d.markers=x,d.ratio=u,d.autoSpeed=h,e.style.willChange="transform"),d}l||S.register(a)||console.warn("Please gsap.registerPlugin(ScrollSmoother)"),e=this.vars=e||{},$&&$.kill(),_($=this);var A,z,B,H,L,I,U,V,D,M,N,O,q,F,Y,j=e.smoothTouch,K=e.onUpdate,W=e.onStop,G=e.smooth,J=e.onFocusIn,Q=e.normalizeScroll,X=e.wholePixels,Z=this,ee=e.effectsPrefix||"",et=p.getScrollFunc(c),er=1===p.isTouch?!0===j?.8:parseFloat(j)||0:0===G||!1===G?0:parseFloat(G)||.8,en=er&&+e.speed||1,eo=0,ei=0,es=1,ea=m(0),el={y:0},ec="undefined"!=typeof ResizeObserver&&!1!==e.autoResize&&new ResizeObserver(function(){if(!p.isRefreshing){var e=p.maxScroll(z);e<-eo&&s(e),b.restart(!0)}});function eu(){return B=A.clientHeight,A.style.overflow="visible",d.style.height=c.innerHeight+(B-c.innerHeight)/en+"px",B-c.innerHeight}E(),p.addEventListener("killAll",E),a.delayedCall(.5,function(){return es=0}),this.scrollTop=s,this.scrollTo=function(e,r,n){var o=a.utils.clamp(0,p.maxScroll(c),isNaN(e)?t.offset(e,n):+e);r?M?a.to(t,{duration:er,scrollTop:o,overwrite:"auto",ease:v}):et(o):s(o)},this.offset=function(e,t){var r,n=(e=h(e)[0]).style.cssText,o=p.create({trigger:e,start:t||"top top"});return L&&T([o]),r=o.start/en,o.kill(!1),e.style.cssText=n,a.core.getCache(e).uncache=1,r},this.content=function(e){if(arguments.length){var t=h(e||"#smooth-content")[0]||console.warn("ScrollSmoother needs a valid content element.")||d.children[0];return t!==A&&(D=(A=t).getAttribute("style")||"",ec&&ec.observe(A),a.set(A,{overflow:"visible",width:"100%",boxSizing:"border-box",y:"+=0"}),er||a.set(A,{clearProps:"transform"})),this}return A},this.wrapper=function(e){var t,r;return arguments.length?(V=(z=h(e||"#smooth-wrapper")[0]||(t=A,(r=u.querySelector(".ScrollSmoother-wrapper"))||((r=u.createElement("div")).classList.add("ScrollSmoother-wrapper"),t.parentNode.insertBefore(r,t),r.appendChild(t)),r)).getAttribute("style")||"",eu(),a.set(z,er?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"}),this):z},this.effects=function(e,t){if(L=L||[],!e)return L.slice(0);(e=h(e)).forEach(function(e){for(var t=L.length;t--;)L[t].trigger===e&&L[t].kill()});var r,n,o=(t=t||{}).speed,i=t.lag,s=t.effectsPadding,a=[];for(r=0;r<e.length;r++)(n=C(e[r],o,i,r,s))&&a.push(n);return L.push.apply(L,a),a},this.sections=function(e,t){if(I=I||[],!e)return I.slice(0);var r=h(e).map(function(e){return p.create({trigger:e,start:"top 120%",end:"bottom -20%",onToggle:function t(r){e.style.opacity=r.isActive?"1":"0",e.style.pointerEvents=r.isActive?"all":"none"}})});return t&&t.add?I.push.apply(I,r):I=r.slice(0),r},this.content(e.content),this.wrapper(e.wrapper),this.render=function(e){return i(e||0===e?e:eo)},this.getVelocity=function(){return ea.getVelocity(-eo)},p.scrollerProxy(z,{scrollTop:s,scrollHeight:function e(){return eu()&&d.scrollHeight},fixedMarkers:!1!==e.fixedMarkers&&!!er,content:A,getBoundingClientRect:function e(){return{top:0,left:0,width:c.innerWidth,height:c.innerHeight}}}),p.defaults({scroller:z});var ef=p.getAll().filter(function(e){return e.scroller===c||e.scroller===z});ef.forEach(function(e){return e.revert(!0,!0)}),H=p.create({animation:a.fromTo(el,{y:0},{y:function e(){return-eu()},immediateRender:!1,ease:"none",data:"ScrollSmoother",duration:100,onUpdate:function e(){if(this._dur){var t=F;t&&(o(H),el.y=eo),i(el.y,t),r(),K&&!M&&K(Z)}}}),onRefreshInit:function e(t){if(S.isRefreshing=!0,L){var r=p.getAll().filter(function(e){return!!e.pin});L.forEach(function(e){e.vars.pinnedContainer||r.forEach(function(t){if(t.pin.contains(e.trigger)){var r=e.vars;r.pinnedContainer=t.pin,e.vars=null,e.init(r,e.animation)}})})}var n=t.getTween();q=n&&n._end>n._dp._time,O=eo,el.y=0,er&&(1===p.isTouch&&(z.style.position="absolute"),z.scrollTop=0,1===p.isTouch&&(z.style.position="fixed"))},onRefresh:function e(t){t.animation.invalidate(),t.setPositions(t.start,eu()/en),q||o(t),el.y=-et()*en,i(el.y),es||t.animation.progress(a.utils.clamp(0,1,-(O/en/t.end))),q&&(t.progress-=.001,t.update()),S.isRefreshing=!1},id:"ScrollSmoother",scroller:c,invalidateOnRefresh:!0,start:0,refreshPriority:-9999,end:function e(){return eu()/en},onScrubComplete:function e(){ea.reset(),W&&W(t)},scrub:er||!0}),this.smooth=function(t){return arguments.length&&(en=(er=t||0)&&+e.speed||1,H.scrubDuration(t)),H.getTween()?H.getTween().duration():0},H.getTween()&&(H.getTween().vars.ease=e.ease||v),this.scrollTrigger=H,e.effects&&this.effects(!0===e.effects?"[data-"+ee+"speed], [data-"+ee+"lag]":e.effects,{effectsPadding:e.effectsPadding}),e.sections&&this.sections(!0===e.sections?"[data-section]":e.sections),ef.forEach(function(e){e.vars.scroller=z,e.revert(!1,!0),e.init(e.vars,e.animation)}),this.paused=function(e,t){return arguments.length?(!!M!==e&&(e?(H.getTween()&&H.getTween().pause(),et(-eo/en),ea.reset(),(N=p.normalizeScroll())&&N.disable(),(M=p.observe({preventDefault:!0,type:"wheel,touch,scroll",debounce:!1,allowClicks:!0,onChangeY:function e(){return s(-eo)}})).nested=y(f,"wheel,touch,scroll",!0,!1!==t)):(M.nested.kill(),M.kill(),M=0,N&&N.enable(),H.progress=(-eo/en-H.start)/(H.end-H.start),o(H))),this):!!M},this.kill=this.revert=function(){t.paused(!1),o(H),H.kill();for(var e=(L||[]).concat(I||[]),r=e.length;r--;)e[r].kill();p.scrollerProxy(z),p.removeEventListener("killAll",E),p.removeEventListener("refresh",x),z.style.cssText=V,A.style.cssText=D;var n=p.defaults({});n&&n.scroller===z&&p.defaults({scroller:c}),t.normalizer&&p.normalizeScroll(!1),clearInterval(U),$=null,ec&&ec.disconnect(),d.style.removeProperty("height"),c.removeEventListener("focusin",w)},this.refresh=function(e,t){return H.refresh(e,t)},Q&&(this.normalizer=p.normalizeScroll(!0===Q?{debounce:!0,content:!er&&A}:Q)),p.config(e),"overscrollBehavior"in c.getComputedStyle(d)&&a.set([d,f],{overscrollBehavior:"none"}),"scrollBehavior"in c.getComputedStyle(d)&&a.set([d,f],{scrollBehavior:"auto"}),c.addEventListener("focusin",w),U=setInterval(r,250),"loading"===u.readyState||requestAnimationFrame(function(){return p.refresh()})}w.version="3.11.5",w.create=function(e){return $&&e&&$.content()===h(e.content)[0]?$:new w(e)},w.get=function(){return $},n()&&a.registerPlugin(w),e.ScrollSmoother=w,e.default=w,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default});